# -*- coding: utf-8 -*-
"""Untitled2.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1YQNyOR2tk6NTaRMd8fXiOV5iVvhnKn23
"""

from google.colab import files
uploaded = files.upload()

import pandas as pd
import random

# 1. Define list of emotions
emociones = [
    "Alegr√≠a", "Tristeza", "Enojo", "Miedo", "Justicia",
    "Nost√°lgia", "Romance", "Intriga", "Ternura"
]

# 2. Load the movie data
# Make sure 'pensamiento (2).xlsx' has been uploaded
peliculas = pd.read_excel('pensamiento (2).xlsx')

# 3. Get user's emotional choice and create movie list
print("¬øC√≥mo te sientes hoy?")
print("Elige una emoci√≥n:")
for i, emo in enumerate(emociones, start=1):
    print(f"{i}. {emo}")

opcion = int(input("Escribe el n√∫mero de tu emoci√≥n: "))
emocion_seleccionada = emociones[opcion - 1]
print(f"\nElegiste: {emocion_seleccionada}")

lista_peliculas = peliculas[peliculas['EMOCI√ìN'] == emocion_seleccionada]['PEL√çCULAS'].tolist()
random.shuffle(lista_peliculas)

# 4. Function to show a batch of recommendations and remove them from the list
def mostrar_y_consumir_recomendaciones(lista, num_to_show=3):
    if not lista:
        return []
    recomendadas = lista[:num_to_show]
    del lista[:num_to_show] # Remove displayed movies from the list
    return recomendadas

# 5. Interactive loop for recommendations
print("\nMuy bien, tienes estas recomendaciones de pel√≠culas para ti:")

while True:
    if not lista_peliculas:
        print("Listo, esas han sido todas las recomendaciones ‚ù§Ô∏è")
        break

    recomendadas = mostrar_y_consumir_recomendaciones(lista_peliculas)

    if not recomendadas:
        print("No hay m√°s pel√≠culas para recomendar con esta emoci√≥n.")
        break

    for peli in recomendadas:
        print("‚Ä¢", peli)

    if not lista_peliculas:
        print("Listo, esas han sido todas las recomendaciones ‚ù§Ô∏è")
        break

    respuesta = input("\n¬øQuieres otras recomendaciones? (si/no): ").lower()
    if respuesta == "no":
        print("\nMe alegra que hayas encontrado tu pel√≠cula ideal. Mucha suerte üçø‚ú®")
        break
    elif respuesta == "si":
        print("\nAqu√≠ tienes m√°s:")
    else:
        print("Respuesta no v√°lida. Saliendo de las recomendaciones.")
        break